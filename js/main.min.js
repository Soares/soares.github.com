(function(){var c,b,d,a,f,j,g,k=function(a,e){return function(){return a.apply(e,arguments)}};d=function(){function a(e,i){this.x=null!=e?e:0;this.y=null!=i?i:0;this.magSquared=k(this.magSquared,this);this.scale=k(this.scale,this);this.minus=k(this.minus,this);this.plus=k(this.plus,this);this.subtract=k(this.subtract,this);this.add=k(this.add,this)}a.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};a.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};a.prototype.plus=
function(e){return new a(this.x+e.x,this.y+e.y)};a.prototype.minus=function(e){return new a(this.x-e.x,this.y-e.y)};a.prototype.scale=function(a){this.x*=a;this.y*=a;return this};a.prototype.magSquared=function(){return this.x*this.x+this.y*this.y};return a}();c=b=void 0;j=new d;f=new d;g=0;a=function(){var a;g++;a=Math.sin(g/15);b.attr("r",7+3*a);c.attr("r",4.3+-1.2*a);b.attr("stroke-width",3+1.5*a);a=j.minus(f);if(!(3>a.magSquared))return f.add(a.scale(0.25)),c.attr("cx",f.x),c.attr("cy",f.y),b.attr("cx",
f.x),b.attr("cy",f.y)};$(function(){c=$("#dot");b=$("#halo");f.x=parseFloat(c.attr("cx"));f.y=parseFloat(c.attr("cy"));$(window).mousemove(function(a){c.css("visibility","visible");b.css("visibility","visible");j.x=a.pageX-document.body.scrollLeft;return j.y=a.pageY-document.body.scrollTop});return setInterval(a,25)})}).call(this);
(function(){var c,b=function(b,a){return function(){return b.apply(a,arguments)}};c=2*Math.PI;this.Oscilator=function(){function b(a,f,d,c){this.phase=null!=a?a:0;this.amplitude=null!=f?f:1;this.frequency=null!=d?d:1;this.offset=null!=c?c:0}b.prototype.value=function(a){return this.offset+this.amplitude*Math.sin(this.frequency*c*a+this.phase*c)};return b}();this.ColorWheel=function(){function b(a,f,c,d){this.h=a;this.s=null!=f?f:1;this.l=null!=c?c:0.5;this.t=null!=d?d:0}b.prototype.make=function(){return new b(this.h,
this.s,this.l)};b.prototype.step=function(){this.t++;return this};b.prototype.value=function(){var a,b,c;b=this.t/15;a=_.isNumber(this.h)?this.h:this.h.value(b);c=_.isNumber(this.s)?this.s:this.s.value(b);b=_.isNumber(this.l)?this.l:this.l.value(b);return Color.hsl(a,c,b).toString()};return b}();this.Turtle=function(){function d(a,c,d,g){this.pen=a;this.x=c;this.y=d;this.theta=g;this.forward=b(this.forward,this);this.look=b(this.look,this);this.move=b(this.move,this);this.jump=b(this.jump,this);this.go=
b(this.go,this);this.step=b(this.step,this);this.turn=b(this.turn,this);this.restore=b(this.restore,this);this.save=b(this.save,this);this.counter=0}d.prototype.save=function(){return{x:this.x,y:this.y,theta:this.theta}};d.prototype.restore=function(a){var b,c;for(b in a)c=a[b],this[b]=c;return this};d.prototype.turn=function(a){this.theta=(this.theta+a)%1;return this};d.prototype.step=function(a){null==a&&(a=1);this.x+=a*Math.cos(this.theta*c);this.y+=a*Math.sin(this.theta*c);return this};d.prototype.go=
function(a){null==a&&(a=1);this.step(a);this.pen.moveTo(this.x,this.y);return this};d.prototype.jump=function(a,b){this.x=a;this.y=b;return this};d.prototype.move=function(a,b){this.x+=a;this.y+=b;return this};d.prototype.look=function(a){this.theta=a;return this};d.prototype.forward=function(a){null==a&&(a=1);this.pen.beginPath();this.pen.moveTo(this.x,this.y);this.step(a);this.pen.lineTo(this.x,this.y);this.pen.closePath();this.pen.stroke();return this};return d}()}).call(this);
(function(){var c,b,d,a,f,j,g=function(a,i){return function(){return a.apply(i,arguments)}},k=Object.prototype.hasOwnProperty,h=function(a,i){function b(){this.constructor=a}for(var c in i)k.call(i,c)&&(a[c]=i[c]);b.prototype=i.prototype;a.prototype=new b;a.__super__=i.prototype;return a};b=function(){function a(i,b,c,e,d){var l,f=this;this.pen=i;this.x=b;this.y=c;this.step=g(this.step,this);this.iterate=g(this.iterate,this);l=new Turtle(i,this.x,this.y,e,d);this.states=[];this.colors=this.colors.make();
this.color=this.colors.value();this.progress=0;this.axiom=(this.axiom+"0").split("");this.actions={F:function(){return l.forward(d)},G:function(){return l.go(d)},"+":function(){return l.turn(f.angle)},"-":function(){return l.turn(-f.angle)},"[":function(){return f.states.push(l.save())},"]":function(){return l.restore(f.states.pop())},"0":function(){return f.iterate(l,d,e)}}}a.prototype.axiom="";a.prototype.rules={};a.prototype.angle=0.25;a.prototype.position=0;a.prototype.iterate=function(a,b,c){this.color=
this.colors.step().value();"function"===typeof this.reset&&this.reset(a,b,c);this.progress--;return this};a.prototype.step=function(a){var b,c,d;this.pen.strokeStyle=this.color;b=this.axiom.shift();this.axiom=this.axiom.concat((null!=(c=null!=(d=this.rules)?d[b]:void 0)?c:b).split(""));if(a)return this;if("function"===typeof(a=this.actions)[b])a[b]();this.progress++;return"F"===b?this:this.step()};return a}();c=function(a){function b(a,c,d,e,f){this.step=g(this.step,this);this.reset=g(this.reset,
this);this.batching=0;b.__super__.constructor.call(this,a,c,d,e,3*f)}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"X+YF",Y:"FX-Y"};b.prototype.angle=0.25;b.prototype.colors=new ColorWheel(new Oscilator(0.25,0.075,0.5,0.075));b.prototype.reset=function(){return this.batching=this.progress};b.prototype.step=function(a){var c,d;if(!a&&0<this.batching){c=Math.min(100,this.batching);for(d=0;0<=c?d<c:d>c;0<=c?d++:d--)this.step(!0);this.batching-=c}else return b.__super__.step.apply(this,arguments)};
return b}(b);f=function(a){function b(){b.__super__.constructor.apply(this,arguments)}h(b,a);b.prototype.axiom="F++F++F";b.prototype.rules={F:"F-F++F-F"};b.prototype.angle=1/6;b.prototype.colors=new ColorWheel(new Oscilator(0.125,0.08,1,0.54),1,new Oscilator(0.25,0.125,0.5,0.625));return b}(b);d=function(a){function b(a,c,d,e,f){this.reset=g(this.reset,this);b.__super__.constructor.call(this,a,c,d,e+0.25,3*f)}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"F-[[X]+X]+F[+FX]-X",F:"FF"};b.prototype.angle=
-25/360;b.prototype.colors=new ColorWheel(new Oscilator(0,0.105,1,0.275));b.prototype.reset=function(a,c){a.jump(a.x+0.5*c*Math.pow(this.progress,0.5),this.y).look(this.angle);return b.__super__.reset.apply(this,arguments)};return b}(b);j=0;a=function(a){function b(a,c,d,f,e){this.reset=g(this.reset,this);var h;h=j%6/6;this.colors=new ColorWheel(new Oscilator(0.29*j%1,0.5,0.265,0.76));b.__super__.constructor.call(this,a,c,d,f+h,e);j++}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"Y-FX-FY",Y:"X+FY+FX"};
b.prototype.angle=-1/6;b.prototype.reset=function(){};return b}(b);b=function(a){function b(a,c,d,f,e){this.reset=g(this.reset,this);b.__super__.constructor.call(this,a,c,d,f-0.25,6*e)}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"F[-FFX]+FX"};b.prototype.angle=0.0625;b.prototype.colors=new ColorWheel(new Oscilator(0,0.105,0.8,0.265));b.prototype.reset=function(a,b,c){return a.jump(this.x,this.y).look(c)};return b}(b);this.Fractals={fire:c,earth:b,snow:f,tri:a,hidden:d}}).call(this);
(function(){var c,b,d,a;a={};c=[];d=0;b=[[[0,1,0],[2,0,0],[3,4,5]],[[1,0,5],[2,3,0],[0,4,0]],[[1,0,0],[2,0,5],[3,4,0]],[[0,0,1],[2,3,0],[0,4,5]]];this.glide=function(f){var j,g,k,h,e,i,m;e=0;for(i=b[0].length;0<=i?e<i:e>i;0<=i?e++:e--){g=$("tr",f).eq(e);c[e]=[];h=0;for(m=b[0][e].length;0<=m?h<m:h>m;0<=m?h++:h--)j=$("td",g).eq(h),0<b[0][e][h]&&(a[b[0][e][h]]=$("a",j)),c[e][h]=j}k=function(){var f,e,i,g,h;d=(d+1)%b.length;f=b[d];for(e in a)i=a[e],i.detach();i=[];h=0;for(e=c.length;0<=e?h<e:h>e;0<=e?
h++:h--)i.push(function(){var b,d;d=[];g=0;for(b=c[h].length;0<=b?g<b:g>b;0<=b?g++:g--)0!==f[h][g]?d.push(c[h][g].append(a[f[h][g]])):d.push(void 0);return d}());return i};return $("#iterate").click(function(a){a.stopPropagation();return k()})}}).call(this);
(function(){var c,b;c=[];b=0;$(function(){var d,a,f,j,g,k,h,e;k=function(){return b=b||setInterval(e,0)};h=function(){c=[];a.removeClass("going").removeClass("paused");return b=clearInterval(b)};e=function(){var a,b,d,e;e=[];b=0;for(d=c.length;b<d;b++)a=c[b],e.push(a.step());return e};g=document.getElementById("canvas").getContext("2d");a=$("#controls");f=$("#fractals");d=$("body");$(window).resize(function(){g.canvas.width=window.innerWidth;g.canvas.height=window.innerHeight;return h()}).trigger("resize").click(function(b){a.is(".paused")&&
(c=[]);a.removeClass("paused").addClass("going");c.push(new j(g,b.pageX-document.body.scrollLeft,b.pageY-document.body.scrollTop,0,1));return k()});j=Fractals[d.attr("class")];$("button",a.add(f)).click(function(a){return a.stopPropagation()});$("button",f).click(function(){var a;a=$(this).button("toggle").data("fractal");j=Fractals[a];return d.removeClass().addClass(a)});$(".control",a).click(function(){if(a.is(".going"))return a.removeClass("going").addClass("paused"),b=clearInterval(b);a.removeClass("paused").addClass("going");
return k()});return $(".clear",a).click(function(){g.clearRect(0,0,g.canvas.width,g.canvas.height);return h()})})}).call(this);(function(){$(function(){$(".btn-group").button();return $("#fractals").css("display","block")})}).call(this);
