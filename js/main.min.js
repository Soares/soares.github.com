(function(){}).call(this);
(function(){var e,b,f,a,d,i,h,k=function(a,g){return function(){return a.apply(g,arguments)}};f=function(){function a(g,c){this.x=null!=g?g:0;this.y=null!=c?c:0;this.magSquared=k(this.magSquared,this);this.scale=k(this.scale,this);this.minus=k(this.minus,this);this.plus=k(this.plus,this);this.subtract=k(this.subtract,this);this.add=k(this.add,this)}a.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};a.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};a.prototype.plus=
function(g){return new a(this.x+g.x,this.y+g.y)};a.prototype.minus=function(g){return new a(this.x-g.x,this.y-g.y)};a.prototype.scale=function(a){this.x*=a;this.y*=a;return this};a.prototype.magSquared=function(){return this.x*this.x+this.y*this.y};return a}();e=b=void 0;i=new f;d=new f;h=0;a=function(){var a;h++;a=Math.sin(h/15);b.attr("r",7+3*a);e.attr("r",4.3+-1.2*a);b.attr("stroke-width",3+1.5*a);a=i.minus(d);if(!(3>a.magSquared))return d.add(a.scale(0.25)),e.attr("cx",d.x),e.attr("cy",d.y),b.attr("cx",
d.x),b.attr("cy",d.y)};$(function(){e=$("#dot");b=$("#halo");d.x=parseFloat(e.attr("cx"));d.y=parseFloat(e.attr("cy"));$(window).mousemove(function(a){e.css("visibility","visible");b.css("visibility","visible");i.x=a.pageX-document.body.scrollLeft;return i.y=a.pageY-document.body.scrollTop});return setInterval(a,25)})}).call(this);
(function(){var e,b,f,a,d,i,h=function(a,c){return function(){return a.apply(c,arguments)}},k=Object.prototype.hasOwnProperty,j=function(a,c){function b(){this.constructor=a}for(var d in c)k.call(c,d)&&(a[d]=c[d]);b.prototype=c.prototype;a.prototype=new b;a.__super__=c.prototype;return a};b=function(){function a(c,b,d,f,i){var g,e=this;this.pen=c;this.x=b;this.y=d;this.step=h(this.step,this);this.iterate=h(this.iterate,this);g=new Turtle(c,this.x,this.y,f,i);this.states=[];this.colors=this.colors.make();
this.color=this.colors.value();this.progress=0;this.axiom=(this.axiom+"0").split("");this.actions={F:function(){return g.forward(i)},G:function(){return g.go(i)},"+":function(){return g.turn(e.angle)},"-":function(){return g.turn(-e.angle)},"[":function(){return e.states.push(g.save())},"]":function(){return g.restore(e.states.pop())},"0":function(){return e.iterate(g,i,f)}}}a.prototype.axiom="";a.prototype.rules={};a.prototype.angle=0.25;a.prototype.position=0;a.prototype.iterate=function(a,b,d){this.color=
this.colors.step().value();"function"===typeof this.reset&&this.reset(a,b,d);this.progress--;return this};a.prototype.step=function(a){var b,d,g;this.pen.strokeStyle=this.color;b=this.axiom.shift();this.axiom=this.axiom.concat((null!=(d=null!=(g=this.rules)?g[b]:void 0)?d:b).split(""));if(a)return this;if("function"===typeof(a=this.actions)[b])a[b]();this.progress++;return"F"===b?this:this.step()};return a}();e=function(a){function c(a,b,d,g,f){this.step=h(this.step,this);this.reset=h(this.reset,
this);this.batching=0;c.__super__.constructor.call(this,a,b,d,g,3*f)}j(c,a);c.prototype.axiom="FX";c.prototype.rules={X:"X+YF",Y:"FX-Y"};c.prototype.angle=0.25;c.prototype.colors=new ColorWheel(new Oscilator(0.25,0.075,0.5,0.075));c.prototype.reset=function(){return this.batching=this.progress};c.prototype.step=function(a){var b,d;if(!a&&0<this.batching){b=Math.min(100,this.batching);for(d=0;0<=b?d<b:d>b;0<=b?d++:d--)this.step(!0);this.batching-=b}else return c.__super__.step.apply(this,arguments)};
return c}(b);d=function(a){function c(){c.__super__.constructor.apply(this,arguments)}j(c,a);c.prototype.axiom="F++F++F";c.prototype.rules={F:"F-F++F-F"};c.prototype.angle=1/6;c.prototype.colors=new ColorWheel(new Oscilator(0.125,0.08,1,0.54),1,new Oscilator(0.25,0.125,0.5,0.625));return c}(b);f=function(a){function c(a,b,d,f,g){this.reset=h(this.reset,this);c.__super__.constructor.call(this,a,b,d,f+0.25,3*g)}j(c,a);c.prototype.axiom="FX";c.prototype.rules={X:"F-[[X]+X]+F[+FX]-X",F:"FF"};c.prototype.angle=
-25/360;c.prototype.colors=new ColorWheel(new Oscilator(0,0.105,1,0.275));c.prototype.reset=function(a,b){a.jump(a.x+0.5*b*Math.pow(this.progress,0.5),this.y).look(this.angle);return c.__super__.reset.apply(this,arguments)};return c}(b);i=0;a=function(a){function c(a,b,d,f,g){this.reset=h(this.reset,this);var e;e=i%6/6;this.colors=new ColorWheel(new Oscilator(0.29*i%1,0.5,0.265,0.76));c.__super__.constructor.call(this,a,b,d,f+e,g);i++}j(c,a);c.prototype.axiom="FX";c.prototype.rules={X:"Y-FX-FY",Y:"X+FY+FX"};
c.prototype.angle=-1/6;c.prototype.reset=function(){};return c}(b);b=function(a){function b(a,d,f,e,g){this.reset=h(this.reset,this);b.__super__.constructor.call(this,a,d,f,e-0.25,6*g)}j(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"F[-FFX]+FX"};b.prototype.angle=0.0625;b.prototype.colors=new ColorWheel(new Oscilator(0,0.105,0.8,0.265));b.prototype.reset=function(a,b,d){return a.jump(this.x,this.y).look(d)};return b}(b);this.Fractals={fire:e,earth:b,snow:d,tri:a,hidden:f}}).call(this);
(function(){var e,b,f,a;a={};e=[];f=0;b=[[[0,1,0],[2,0,0],[3,4,5]],[[1,0,5],[2,3,0],[0,4,0]],[[1,0,0],[2,0,5],[3,4,0]],[[0,0,1],[2,3,0],[0,4,5]]];this.glide=function(d){var i,h,k,j,g,c,l;g=0;for(c=b[0].length;0<=c?g<c:g>c;0<=c?g++:g--){h=$("tr",d).eq(g);e[g]=[];j=0;for(l=b[0][g].length;0<=l?j<l:j>l;0<=l?j++:j--)i=$("td",h).eq(j),0<b[0][g][j]&&(a[b[0][g][j]]=$("a",i)),e[g][j]=i}k=function(){var d,c,g,i,h;f=(f+1)%b.length;d=b[f];for(c in a)g=a[c],g.detach();g=[];h=0;for(c=e.length;0<=c?h<c:h>c;0<=c?
h++:h--)g.push(function(){var b,c;c=[];i=0;for(b=e[h].length;0<=b?i<b:i>b;0<=b?i++:i--)0!==d[h][i]?c.push(e[h][i].append(a[d[h][i]])):c.push(void 0);return c}());return g};return $("#iterate").click(function(a){a.stopPropagation();return k()})}}).call(this);
(function(){var e,b;e=[];b=0;$(function(){var f,a,d,i,h,k,j,g;k=function(){return b=b||setInterval(g,0)};j=function(){e=[];a.removeClass("going").removeClass("paused");return b=clearInterval(b)};g=function(){var a,b,d,f;f=[];b=0;for(d=e.length;b<d;b++)a=e[b],f.push(a.step());return f};h=document.getElementById("canvas").getContext("2d");a=$("#controls");d=$("#fractals");f=$("body");$(window).resize(function(){h.canvas.width=window.innerWidth;h.canvas.height=window.innerHeight;return j()}).trigger("resize").click(function(b){a.is(".paused")&&
(e=[]);a.removeClass("paused").addClass("going");e.push(new i(h,b.pageX-document.body.scrollLeft,b.pageY-document.body.scrollTop,0,1));return k()});i=Fractals[f.attr("class")];$("button",a.add(d)).click(function(a){return a.stopPropagation()});$("button",d).click(function(){var a;a=$(this).button("toggle").data("fractal");i=Fractals[a];return f.removeClass().addClass(a)});$(".control",a).click(function(){if(a.is(".going"))return a.removeClass("going").addClass("paused"),b=clearInterval(b);a.removeClass("paused").addClass("going");
return k()});return $(".clear",a).click(function(){h.clearRect(0,0,h.canvas.width,h.canvas.height);return j()})})}).call(this);
(function(){var e;$(function(){return $.get("more.html",function(b){return e($("#more",b))})});e=function(b){var f,a,d;a=$("#card");a.after(b);this.glide($("#glider"));d=$("#to-more");f=$("#to-card");d.click(function(d){d.stopPropagation();a.slideToggle("fast",function(){return b.slideToggle("fast")});return!1});return f.click(function(d){d.stopPropagation();b.slideToggle("fast",function(){return a.slideToggle("fast")});return!1})}}).call(this);
(function(){$(function(){$(".btn-group").button();return $("#fractals").css("display","block")})}).call(this);
(function(){var e,b=function(b,a){return function(){return b.apply(a,arguments)}};e=2*Math.PI;this.Oscilator=function(){function b(a,d,f,e){this.phase=null!=a?a:0;this.amplitude=null!=d?d:1;this.frequency=null!=f?f:1;this.offset=null!=e?e:0}b.prototype.value=function(a){return this.offset+this.amplitude*Math.sin(this.frequency*e*a+this.phase*e)};return b}();this.ColorWheel=function(){function b(a,d,e,f){this.h=a;this.s=null!=d?d:1;this.l=null!=e?e:0.5;this.t=null!=f?f:0}b.prototype.make=function(){return new b(this.h,
this.s,this.l)};b.prototype.step=function(){this.t++;return this};b.prototype.value=function(){var a,b,e;b=this.t/15;a=_.isNumber(this.h)?this.h:this.h.value(b);e=_.isNumber(this.s)?this.s:this.s.value(b);b=_.isNumber(this.l)?this.l:this.l.value(b);return Color.hsl(a,e,b).toString()};return b}();this.Turtle=function(){function f(a,d,e,f){this.pen=a;this.x=d;this.y=e;this.theta=f;this.forward=b(this.forward,this);this.look=b(this.look,this);this.move=b(this.move,this);this.jump=b(this.jump,this);this.go=
b(this.go,this);this.step=b(this.step,this);this.turn=b(this.turn,this);this.restore=b(this.restore,this);this.save=b(this.save,this);this.counter=0}f.prototype.save=function(){return{x:this.x,y:this.y,theta:this.theta}};f.prototype.restore=function(a){var b,e;for(b in a)e=a[b],this[b]=e;return this};f.prototype.turn=function(a){this.theta=(this.theta+a)%1;return this};f.prototype.step=function(a){null==a&&(a=1);this.x+=a*Math.cos(this.theta*e);this.y+=a*Math.sin(this.theta*e);return this};f.prototype.go=
function(a){null==a&&(a=1);this.step(a);this.pen.moveTo(this.x,this.y);return this};f.prototype.jump=function(a,b){this.x=a;this.y=b;return this};f.prototype.move=function(a,b){this.x+=a;this.y+=b;return this};f.prototype.look=function(a){this.theta=a;return this};f.prototype.forward=function(a){null==a&&(a=1);this.pen.beginPath();this.pen.moveTo(this.x,this.y);this.step(a);this.pen.lineTo(this.x,this.y);this.pen.closePath();this.pen.stroke();return this};return f}()}).call(this);
