(function(){$(function(){return $("#fractals").css("display","block")})}).call(this);
(function(){var f,c,e,a,b,g,k,j=function(a,d){return function(){return a.apply(d,arguments)}};e=function(){function a(d,i){this.x=null!=d?d:0;this.y=null!=i?i:0;this.magSquared=j(this.magSquared,this);this.scale=j(this.scale,this);this.minus=j(this.minus,this);this.plus=j(this.plus,this);this.subtract=j(this.subtract,this);this.add=j(this.add,this)}a.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};a.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};a.prototype.plus=
function(d){return new a(this.x+d.x,this.y+d.y)};a.prototype.minus=function(d){return new a(this.x-d.x,this.y-d.y)};a.prototype.scale=function(a){this.x*=a;this.y*=a;return this};a.prototype.magSquared=function(){return this.x*this.x+this.y*this.y};return a}();f=c=void 0;g=new e;b=new e;k=0;a=function(){var a;k++;a=Math.sin(k/15);c.attr("r",7+3*a);f.attr("r",4.3+-1.2*a);c.attr("stroke-width",3+1.5*a);a=g.minus(b);if(!(3>a.magSquared))return b.add(a.scale(0.25)),f.attr("cx",b.x),f.attr("cy",b.y),c.attr("cx",
b.x),c.attr("cy",b.y)};$(function(){f=$("#dot");c=$("#halo");$("#card");b.x=parseFloat(f.attr("cx"));b.y=parseFloat(f.attr("cy"));$(window).mousemove(function(a){f.css("visibility","visible");c.css("visibility","visible");g.x=a.pageX-document.body.scrollLeft;return g.y=a.pageY-document.body.scrollTop});return setInterval(a,25)})}).call(this);
(function(){var f,c,e,a;a={};f=[];e=0;c=[[[0,1,0],[2,0,0],[3,4,5]],[[1,0,5],[2,3,0],[0,4,0]],[[1,0,0],[2,0,5],[3,4,0]],[[0,0,1],[2,3,0],[0,4,5]]];this.glide=function(b){var g,k,j,h,d,i,l;d=0;for(i=c[0].length;0<=i?d<i:d>i;0<=i?d++:d--){k=$("tr",b).eq(d);f[d]=[];h=0;for(l=c[0][d].length;0<=l?h<l:h>l;0<=l?h++:h--)g=$("td",k).eq(h),0<c[0][d][h]&&(a[c[0][d][h]]=$("a",g)),f[d][h]=g}j=function(){var i,d,b,l,g;e=(e+1)%c.length;i=c[e];for(d in a)b=a[d],b.detach();b=[];g=0;for(d=f.length;0<=d?g<d:g>d;0<=d?
g++:g--)b.push(function(){var d,b;b=[];l=0;for(d=f[g].length;0<=d?l<d:l>d;0<=d?l++:l--)0!==i[g][l]?b.push(f[g][l].append(a[i[g][l]])):b.push(void 0);return b}());return b};return $("#iterate").click(function(a){a.stopPropagation();return j()})}}).call(this);
(function(){var f;$(function(){return $.get("more.html",function(c){return f($("#more",c))})});f=function(c){var e,a,b;a=$("#card");a.after(c);this.glide($("#glider"));b=$("#to-more");e=$("#to-card");b.click(function(b){b.stopPropagation();a.slideToggle("fast",function(){return c.slideToggle("fast")});return!1});return e.click(function(b){b.stopPropagation();c.slideToggle("fast",function(){return a.slideToggle("fast")});return!1})}}).call(this);
(function(){var f,c=function(c,a){return function(){return c.apply(a,arguments)}};f=2*Math.PI;this.Oscilator=function(){function c(a,b,g,e){this.phase=null!=a?a:0;this.amplitude=null!=b?b:1;this.frequency=null!=g?g:1;this.offset=null!=e?e:0}c.prototype.value=function(a){return this.offset+this.amplitude*Math.sin(this.frequency*f*a+this.phase*f)};return c}();this.ColorWheel=function(){function c(a,b,g,e){this.h=a;this.s=null!=b?b:1;this.l=null!=g?g:0.5;this.t=null!=e?e:0}c.prototype.make=function(){return new c(this.h,
this.s,this.l)};c.prototype.step=function(){this.t++;return this};c.prototype.value=function(){var a,b,c;b=this.t/15;a="number"===typeof this.h?this.h:this.h.value(b);c="number"===typeof this.s?this.s:this.s.value(b);b="number"===typeof this.l?this.l:this.l.value(b);return Color.hsl(a,c,b).toString()};return c}();this.Turtle=function(){function e(a,b,e,f){this.pen=a;this.x=b;this.y=e;this.theta=f;this.forward=c(this.forward,this);this.look=c(this.look,this);this.move=c(this.move,this);this.jump=c(this.jump,
this);this.go=c(this.go,this);this.step=c(this.step,this);this.turn=c(this.turn,this);this.restore=c(this.restore,this);this.save=c(this.save,this);this.counter=0}e.prototype.save=function(){return{x:this.x,y:this.y,theta:this.theta}};e.prototype.restore=function(a){var b,c;for(b in a)c=a[b],this[b]=c;return this};e.prototype.turn=function(a){this.theta=(this.theta+a)%1;return this};e.prototype.step=function(a){null==a&&(a=1);this.x+=a*Math.cos(this.theta*f);this.y+=a*Math.sin(this.theta*f);return this};
e.prototype.go=function(a){null==a&&(a=1);this.step(a);this.pen.moveTo(this.x,this.y);return this};e.prototype.jump=function(a,b){this.x=a;this.y=b;return this};e.prototype.move=function(a,b){this.x+=a;this.y+=b;return this};e.prototype.look=function(a){this.theta=a;return this};e.prototype.forward=function(a){null==a&&(a=1);this.pen.beginPath();this.pen.moveTo(this.x,this.y);this.step(a);this.pen.lineTo(this.x,this.y);this.pen.closePath();this.pen.stroke();return this};return e}()}).call(this);
(function(){var f,c,e,a,b,g,k=function(a,i){return function(){return a.apply(i,arguments)}},j=Object.prototype.hasOwnProperty,h=function(a,i){function b(){this.constructor=a}for(var c in i)j.call(i,c)&&(a[c]=i[c]);b.prototype=i.prototype;a.prototype=new b;a.__super__=i.prototype;return a};c=function(){function a(i,b,c,d,e,f){var g,h=this;this.pen=i;this.x=b;this.y=c;this.die=f;this.step=k(this.step,this);this.iterate=k(this.iterate,this);g=new Turtle(i,this.x,this.y,d,e);this.states=[];this.colors=
this.colors.make();this.color=this.colors.value();this.progress=0;this.axiom=(this.axiom+"0").split("");this.iterations=0;this.actions={F:function(){return g.forward(e)},G:function(){return g.go(e)},"+":function(){return g.turn(h.angle)},"-":function(){return g.turn(-h.angle)},"[":function(){return h.states.push(g.save())},"]":function(){return g.restore(h.states.pop())},"0":function(){return h.iterate(g,e,d)}}}a.prototype.axiom="";a.prototype.rules={};a.prototype.angle=0.25;a.prototype.position=
0;a.prototype.cap=0;a.prototype.iterate=function(a,b,c){this.iterations++;0<this.cap&&this.iterations>=this.cap&&(delete this.axiom,this.die());this.color=this.colors.step().value();"function"===typeof this.reset&&this.reset(a,b,c);this.progress--;return this};a.prototype.step=function(a){var b,c,d;if("string"!==typeof this.axiom){this.pen.strokeStyle=this.color;b=this.axiom.shift();1<this.cap-this.iterations&&(this.axiom=this.axiom.concat((null!=(c=null!=(d=this.rules)?d[b]:void 0)?c:b).split("")));
if(a)return this;if("function"===typeof(a=this.actions)[b])a[b]();this.progress++;return"F"===b?this:this.step()}};return a}();f=function(a){function b(a,c,d,e,g,f){this.step=k(this.step,this);this.reset=k(this.reset,this);this.batching=0;b.__super__.constructor.call(this,a,c,d,e,3*g,f)}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"X+YF",Y:"FX-Y"};b.prototype.angle=0.25;b.prototype.colors=new ColorWheel(new Oscilator(0.25,0.075,0.5,0.075));b.prototype.cap=15;b.prototype.reset=function(){return this.batching=
this.progress};b.prototype.step=function(a){var c,d;if(!a&&0<this.batching){c=Math.min(100,this.batching);for(d=0;0<=c?d<c:d>c;0<=c?d++:d--)this.step(!0);this.batching-=c}else return b.__super__.step.apply(this,arguments)};return b}(c);b=function(a){function b(){b.__super__.constructor.apply(this,arguments)}h(b,a);b.prototype.axiom="F++F++F";b.prototype.rules={F:"F-F++F-F"};b.prototype.angle=1/6;b.prototype.cap=9;b.prototype.colors=new ColorWheel(new Oscilator(0.125,0.08,1,0.54),1,new Oscilator(0.25,
0.125,0.5,0.625));return b}(c);e=function(a){function b(a,c,d,e,g,f){this.reset=k(this.reset,this);b.__super__.constructor.call(this,a,c,d,e+0.25,3*g,f)}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"F-[[X]+X]+F[+FX]-X",F:"FF"};b.prototype.angle=-25/360;b.prototype.colors=new ColorWheel(new Oscilator(0.67,0.09,-0.4,0.23));b.prototype.cap=8;b.prototype.reset=function(a,c){a.jump(a.x+0.5*c*Math.pow(this.progress,0.5),this.y).look(this.angle);return b.__super__.reset.apply(this,arguments)};return b}(c);
g=0;a=function(a){function b(a,c,d,e,f,h){this.reset=k(this.reset,this);var j;j=g%6/6;this.colors=new ColorWheel(new Oscilator(0.29*g%1,0.5,0.265,0.76));b.__super__.constructor.call(this,a,c,d,e+j,f,h);g++}h(b,a);b.prototype.axiom="FX";b.prototype.rules={X:"Y-FX-FY",Y:"X+FY+FX"};b.prototype.angle=-1/6;b.prototype.cap=9;b.prototype.reset=function(){};return b}(c);c=function(a){function b(a,c,d,e,f,g){this.reset=k(this.reset,this);b.__super__.constructor.call(this,a,c,d,e-0.25,6*f,g)}h(b,a);b.prototype.axiom=
"FX";b.prototype.rules={X:"F[-FFX]+FX"};b.prototype.angle=0.0625;b.prototype.colors=new ColorWheel(new Oscilator(0.8,0.1,0.6,0.155));b.prototype.cap=11;b.prototype.reset=function(a,b,c){return a.jump(this.x,this.y).look(c)};return b}(c);this.Fractals={fire:f,earth:c,snow:b,tri:a,hidden:e}}).call(this);
(function(){var f,c,e;f={};c=e=0;$(function(){var a,b,g,k,j,h,d,i;h=function(){return e=e||setInterval(i,0)};d=function(){f={};b.removeClass("going").removeClass("paused");return e=clearInterval(e)};i=function(){var a,b,c;c=[];for(b in f)a=f[b],c.push(a.step());return c};j=document.getElementById("canvas").getContext("2d");b=$("#controls");g=$("#fractals");a=$("body");$(window).resize(function(){j.canvas.width=window.innerWidth;j.canvas.height=window.innerHeight;return d()}).trigger("resize");$("#svg, #canvas, #dot, #halo").mouseup(function(a){var d,
e;a.stopPropagation();b.is(".paused")&&(f={});b.removeClass("paused").addClass("going");d=a.pageX-document.body.scrollLeft;e=a.pageY-document.body.scrollTop;c++;a=function(a){return function(){return delete f[a]}}(c);f[c]=new k(j,d,e,0,1,a);return h()});k=Fractals[a.attr("class")];$("button",g).click(function(){var b;b=$(this).button("toggle").data("fractal");k=Fractals[b];return a.removeClass().addClass(b)});$(".control",b).click(function(){if(b.is(".going"))return b.removeClass("going").addClass("paused"),
e=clearInterval(e);b.removeClass("paused").addClass("going");return h()});return $(".clear",b).click(function(){j.clearRect(0,0,j.canvas.width,j.canvas.height);return d()})})}).call(this);
